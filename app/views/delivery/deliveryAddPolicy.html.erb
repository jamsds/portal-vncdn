<div class="portal__main-left expanded">
	<div class="panel">
		<div class="panel__heading">
			<a href="<%= url_for(:back) %>" class="btn btn-default btn-sm ml-2">
		    <span class="back_ic">
		      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="12" viewBox="0 0 18 12">
		        <path d="M353.6,392.8v2H339.4l3.6,3.6-1.4,1.4-6-6,6-6,1.4,1.4-3.6,3.6Z" transform="translate(-335.6 -387.8)" fill="#333333"/>
		      </svg>
		    </span>
		    <span>
		      Back
		    </span>
		  </a>
		</div>
		<div class="panel__list main">
			<div class="panel__list create-notice">
				<span class="notice">Select one of the policies in bellow to manage:</span>
			</div>
			<div class="main__options-list">
        <a href="/cdn/<%= params[:propertyId] %>/<%= params[:type] %>/policies/a" class="main__options-list-item clearfix<% if params[:ptype] == 'a'%> active<% end %>">
          <div class="main__options-list-item-ic">
            <div class="was_ic">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M204.8,244.6a2.051,2.051,0,0,1,2,2v16a2.051,2.051,0,0,1-2,2h-16a2.051,2.051,0,0,1-2-2v-16a2.051,2.051,0,0,1,2-2Zm0,18v-16h-16v16Zm-2-14v12h-12v-12h4v2h-2v8h8v-8h-3v2.2a1.856,1.856,0,0,1,1,1.7,2,2,0,0,1-4,0,1.673,1.673,0,0,1,1-1.7v-2.2a2.051,2.051,0,0,1,2-2Z" transform="translate(-186.8 -244.6)"/></svg>
            </div>
          </div>
          <div class="main__options-list-item-info">
            <h6>Access Control</h6>
            <small>Manage access control to your delivery</small>
          </div>
          <div class="main__options-list-item-arrow">
          	<% if params[:ptype] == 'a'%>
            <div class="arrow_ic">
              <svg xmlns="http://www.w3.org/2000/svg" width="7.4" height="12" viewBox="0 0 7.4 12"><path d="M267.3,398.2l4.6-4.6-4.6-4.6,1.4-1.4,6,6-6,6Z" transform="translate(-267.3 -387.6)" fill="var(--main-color)"/></svg>
            </div>
            <% end %>
          </div>
        </a>
        <a href="/cdn/<%= params[:propertyId] %>/<%= params[:type] %>/policies/c" class="main__options-list-item clearfix<% if params[:ptype] == 'c'%> active<% end %>">
          <div class="main__options-list-item-ic">
            <div class="was_ic">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path d="M78.9,1084.8v12h12v2h-12a1.816,1.816,0,0,1-1.4-.6,1.974,1.974,0,0,1-.6-1.4v-12Zm4-4v2h-2a2.051,2.051,0,0,1,2-2Zm0,4v2h-2v-2Zm0,4v2h-2v-2Zm0,6a1.816,1.816,0,0,1-1.4-.6,1.974,1.974,0,0,1-.6-1.4h2Zm4-14v2h-2v-2Zm0,12v2h-2v-2Zm2-10v-2h2v2Zm0,12v-2h2v2Zm4-14a2.051,2.051,0,0,1,2,2h-2Zm0,6v-2h2v2Zm0,4v-2h2v2Zm0,4v-2h2a2.051,2.051,0,0,1-2,2Z" transform="translate(-76.9 -1080.8)" fill="#fff"/></svg>
            </div>
          </div>
          <div class="main__options-list-item-info">
            <h6>Cache Control</h6>
            <small>Manage hit cache request to your origin</small>
          </div>
          <div class="main__options-list-item-arrow">
          	<% if params[:ptype] == 'c'%>
            <div class="arrow_ic">
              <svg xmlns="http://www.w3.org/2000/svg" width="7.4" height="12" viewBox="0 0 7.4 12"><path d="M267.3,398.2l4.6-4.6-4.6-4.6,1.4-1.4,6,6-6,6Z" transform="translate(-267.3 -387.6)" fill="var(--main-color)"/></svg>
            </div>
            <% end %>
          </div>
        </a>
        <a href="/cdn/<%= params[:propertyId] %>/<%= params[:type] %>/policies/r" class="main__options-list-item clearfix<% if params[:ptype] == 'r'%> active<% end %>">
          <div class="main__options-list-item-ic">
            <div class="was_ic">
              <svg xmlns="http://www.w3.org/2000/svg" width="16.1" height="16" viewBox="0 0 16.1 16"><path d="M495,37.8h5.5v5.5l-2.1-2.1L485.8,53.8l-1.4-1.4L497,39.9ZM491.1,43l-1.4,1.4-5.2-5.2,1.4-1.4Zm4.2,4.2,3.1,3.1,2.1-2.1v5.5H495l2.1-2.1L494,48.5Z" transform="translate(-484.4 -37.8)"/></svg>
            </div>
          </div>
          <div class="main__options-list-item-info">
            <h6>Redirect Control</h6>
            <small>Manage redirect your delivery</small>
          </div>
          <div class="main__options-list-item-arrow">
          	<% if params[:ptype] == 'r'%>
            <div class="arrow_ic">
              <svg xmlns="http://www.w3.org/2000/svg" width="7.4" height="12" viewBox="0 0 7.4 12"><path d="M267.3,398.2l4.6-4.6-4.6-4.6,1.4-1.4,6,6-6,6Z" transform="translate(-267.3 -387.6)" fill="var(--main-color)"/></svg>
            </div>
            <% end %>
          </div>
        </a>
      </div>
		</div>
	</div>
</div>
<div class="portal__main-center primary croped">
	<div class="dashboard">
		<div class="dashboard__heading">
			<div class="dashboard__heading-action-list clearfix">
				<div class="dashboard__heading-action-item">
					<a href="<%= request.fullpath %>" class="btn btn-sm ml-2">
						<span class="add_ic">
							<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path d="M78.9,1084.8v12h12v2h-12a1.816,1.816,0,0,1-1.4-.6,1.974,1.974,0,0,1-.6-1.4v-12Zm4-4v2h-2a2.051,2.051,0,0,1,2-2Zm0,4v2h-2v-2Zm0,4v2h-2v-2Zm0,6a1.816,1.816,0,0,1-1.4-.6,1.974,1.974,0,0,1-.6-1.4h2Zm4-14v2h-2v-2Zm0,12v2h-2v-2Zm2-10v-2h2v2Zm0,12v-2h2v2Zm4-14a2.051,2.051,0,0,1,2,2h-2Zm0,6v-2h2v2Zm0,4v-2h2v2Zm0,4v-2h2a2.051,2.051,0,0,1-2,2Z" transform="translate(-76.9 -1080.8)"/></svg>
						</span>
						<span>Add Policies</span>
					</a>
				</div>
			</div>
		</div>
		<div class="dashboard__container">
			<div class="dashboard__container-card clearfix">
				<div class="dashboard__container-card-item">
					<%= form_for "", url: {action: :deliveryCreatePolicy, controller: :delivery}, method: :post, html: { id: 'form', multipart: true } do |f|%>
		        <div class="form-group row">
	            <label class="col-sm-2 col-form-label text-right">Policy Name</label>
	            <div class="col-sm-8 col-form-value">
	              <p><%= "#{params[:propertyId]}_#{params[:ptype]}_#{rand(1000..9999)}" %></p>
	              <small>Policy name auto generated base on your PropertyId and our rules.</small>
	              <%= f.hidden_field :name, value: "#{params[:propertyId]}_#{params[:ptype]}_#{rand(1000..9999)}" %>
	              <%= f.hidden_field :dtype, value: params[:type] %>
								<%= f.hidden_field :ptype, value: params[:ptype] %>
								<%= f.hidden_field :propertyId, value: params[:propertyId] %>
	            </div>
	          </div>

						<% if params[:ptype] == 'a' %>
						<div class="form-group vertical row">
		          <%= f.label :type, 'Policy Type', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.select :type, options_for_select([["Whitelist", "allow"], ["Blacklist", "deny"], ["Token Secret Access", "token"]]), {}, {class: 'form-control'} %>
								<small id="typeHelp" class="form-text text-muted">Whitelist to allow, Blacklist to deny and Token Secret Access to allow a special people, who you was sent Secret Token. <a href="/cdn/<%= params[:propertyId] %>/d">Secret Token Here</a></small>
		          </div>
		        </div>
						<% end %>

						<div class="form-group vertical row">
		          <%= f.label :matchType, 'Match Type', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.select :matchType, options_for_select([["Prefix", "prefix"], ["Regex", "regex"]]), {}, {class: 'form-control'} %>
		          </div>
		        </div>
		        <div class="form-group vertical row">
		          <%= f.label :url, 'URL Path', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.text_field :url, class: 'form-control', value: "/", required: true %>
								<small id="urlHelp" class="form-text text-muted">Enter the URL prefix or pattern for request match. E.g. /abc  or /abc_*.png.</small>
		          </div>
		        </div>

						<% if params[:ptype] == 'a' %>
						<div class="form-group vertical row">
		          <%= f.label :location, 'GEO Restriction', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.text_field :location, class: 'form-control' %>
								<small id="locationHelp" class="form-text text-muted">The GEO code format with ISO standard e.g Vietnam = VI.</small>
		          </div>
		        </div>
		        <div class="form-group vertical row">
		          <%= f.label :subnet, 'IP Restriction', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.text_field :subnet, class: 'form-control' %>
								<small id="subnetHelp" class="form-text text-muted">The IP/Subnet field format e.g 0.0.0.0/24.</small>
		          </div>
		        </div>
						<% elsif params[:ptype] == 'c' %>
						<div class="form-group vertical row">
		          <%= f.label :hostHeader, 'Host Header', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.text_field :hostHeader, class: 'form-control' %>
								<small id="hostHeaderHelp" class="form-text text-muted">Override the default host header used to make requests to the origin</small>
		          </div>
		        </div>
		        <div class="form-group vertical row">
		          <%= f.label :ttl, 'TTL', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.text_field :ttl, class: 'form-control' %>
								<small id="ttlHelp" class="form-text text-muted">The length of time in seconds to cache the origin content</small>
		          </div>
		        </div>
		        <div class="form-group row">
		        	<%= f.label :ignoreOriginNoCache, 'Ignore Origin', class: 'col-sm-2 col-form-label text-right' %>
              <div class="col-sm-9 col-form-value">
                <div class="switch-group clearfix">
                  <label class="switch">
                  	<%= f.check_box :ignoreOriginNoCache, { class: 'custom-control-input', checked: false }, "true", "false" %>
                    <span class="slider round"></span>
                  </label>
                  <%= f.label :ignoreOriginNoCache, 'Enable this option to ignore no-cache header(s) sent by the origin server', class: 'switch-group-label' %>
                </div>
              </div>
            </div>
            <div class="form-group row">
		        	<%= f.label :ignoreClientNoCache, 'Ignore Client', class: 'col-sm-2 col-form-label text-right' %>
              <div class="col-sm-9 col-form-value">
                <div class="switch-group clearfix">
                  <label class="switch">
                  	<%= f.check_box :ignoreClientNoCache, { class: 'custom-control-input', checked: false }, "true", "false" %>
                    <span class="slider round"></span>
                  </label>
                  <%= f.label :ignoreClientNoCache, 'Enable this option to ignore no-cache header(s) from clients', class: 'switch-group-label' %>
                </div>
              </div>
            </div>
            <div class="form-group row">
		        	<%= f.label :ignoreQueryString, 'Ignore Query String', class: 'col-sm-2 col-form-label text-right' %>
              <div class="col-sm-9 col-form-value">
                <div class="switch-group clearfix">
                  <label class="switch">
                  	<%= f.check_box :ignoreQueryString, { class: 'custom-control-input', checked: false }, "true", "false" %>
                    <span class="slider round"></span>
                  </label>
                  <%= f.label :ignoreQueryString, 'Enable this option to ignore any URL query string when caching an object', class: 'switch-group-label' %>
                </div>
              </div>
            </div>
            <% elsif params[:ptype] == 'r' %>
            <div class="form-group vertical row">
		          <%= f.label :redirectionURL, 'Redirect Destination', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.text_field :redirectionURL, class: 'form-control' %>
								<small id="redirectionURLHelp" class="form-text text-muted">It will redirect to this URL for matched requests.</small>
		          </div>
		        </div>
		        <div class="form-group vertical row">
		          <%= f.label :statusCode, 'Match Type', class: 'col-sm-2 col-form-label text-right' %>
		          <div class="col-sm-9">
		            <%= f.select :statusCode, options_for_select([["301 - Permanent Redirect", "301"], ["302 - Temporary Redirect", "302"]]), {}, {class: 'form-control'} %>
		          </div>
		        </div>
						<% end %>
						<div class="row mt-3">
		          <div class="col-sm-2"></div>
		          <div class="col-sm-9">
					      <%= button_tag(type: "submit", class: "btn btn-default primary mr-3") do %>
						      Create
						    <% end %>
						    <a href="/cdn/<%= params[:propertyId] %>/<%= params[:type] %>/policies/<%= params[:ptype] %>" class="btn btn-light">Back</a>
		          </div>
		        </div>
					<% end %>
				</div>
			</div>
		</div>
	</div>
</div>