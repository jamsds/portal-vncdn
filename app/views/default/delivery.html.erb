<% if params[:deliveryAction].nil? && params[:propertyId].nil? %>
<div class="portal__main-left">
	<div class="panel">
		<div class="panel__heading">
			panel.delivery.heading
		</div>
		<div class="panel__list">
			panel.delivery.list
		</div>
	</div>
</div>
<div class="portal__main-center primary">
	<div class="dashboard">
		<div class="dashboard__heading">
			<div class="dashboard__heading-action-list">
				<a href="<%= delivery_url %>?deliveryAction=create" class="dashboard__heading-action-item">New Domain</a>
			</div>
		</div>
		<div class="dashboard__container">
			<% if current_user.phone.nil? %>
			<div class="dashboard__container-message warning">
				dashboard.container.message
			</div>
			<% end %>
			<div class="dashboard__container-card clearfix">
				<div class="dashboard__container-card">
					<div class="dashboard__container-card-item">
						<h5>Delivery/File Download Domain List</h5>
						<div class="delivery mt-3">
							<table class="table mb-0">
								<thead>
									<tr>
										<th>Domain</th>
										<th>Scenario Type</th>
										<th>Status</th>
										<th>Operation</th>
									</tr>
								</thead>
								<tbody>
									<% @delivery.each do |item| %>
										<tr>
											<td><a href="<%= delivery_url %>/<%= item["id"] %>/d"><%= item["name"] %></a></td>
											<td>Website Acceleration</td>
											<td><% if item["active"] == true %>Active<% end %></td>
											<td><a href="<%= delivery_url %>/<%= item["id"] %>/d/edit">Edit</a></td>
										</tr>
									<% end %>
									<% @download.each do |item| %>
										<tr>
											<td><a href="<%= delivery_url %>/<%= item["id"] %>/f"><%= item["name"] %></a></td>
											<td>Large File Download</td>
											<td><% if item["active"] == true %>Active<% end %></td>
											<td><a href="<%= delivery_url %>/<%= item["id"] %>/f/edit">Edit</a></td>
										</tr>
									<% end %>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<% elsif params[:deliveryAction] == "create" %>
<div class="portal__main-heading">
	<a href="<%= delivery_url %>" class="back">Back</a>
</div>
<div class="portal__main-left expanded">
	<div class="panel">
		<div class="panel__list">
			panel.delivery.list
		</div>
	</div>
</div>
<div class="portal__main-center primary croped">
	<div class="dashboard">
		<div class="dashboard__container">
			<% if current_user.phone.nil? %>
			<div class="dashboard__container-message warning">
				dashboard.container.message
			</div>
			<% end %>
			<div class="dashboard__container-card clearfix">
				<div class="dashboard__container-card">
					<div class="dashboard__container-card-item">
						<div class="delivery">
							<h5>Add a Domain/File Download</h5>
							<div class="delivery__select-type mt-3">
								<a href="<%= delivery_url %>?deliveryAction=create" class="btn <% if params[:deliveryType].nil? %>btn-default primary outline<% else %>btn-light<% end %>"><span>Website Acceleration</span></a>
								<a href="<%= delivery_url %>?deliveryAction=create&deliveryType=download" class="btn btn-default <% if params[:deliveryType].present? %>btn-default primary outline<% else %>btn-light<% end %>"><span>Large File Download</span></a>
							</div>
							<% if params[:deliveryType].nil? %>
								<%= form_for "", url: {action: :deliveryAdd, controller: :default}, method: :post, html: {class: 'mt-3', id: 'form', multipart: true} do |f|%>
									<div class="form-group">
										<%= f.label :deliveryUrl, 'Delivery Domain Name' %>
										<%= f.text_field :deliveryUrl, class: 'form-control' %>
										<small id="domainlHelp" class="form-text text-muted">Domain name can only contain lowercase letters, digits, hyphens, or periods. Please enter a valid domain name. E.g: 'www.domain.com'.</small>
									</div>

									<div class="form-group">
										<%= f.label :originUrl, 'Origin Domain/IP' %>
										<%= f.text_field :originUrl, class: 'form-control' %>
										<small id="domainlHelp" class="form-text text-muted">Origin domain name can only contain lowercase letters, digits, hyphens, or periods. Please enter a valid origin serer host name or IP. E.g: 'origin.domain.com'.</small>
									</div>

									<div class="switch-group mb-3 clearfix">
								    <label class="switch">
										  <%= f.check_box :streamingService, { class: 'custom-control-input', checked: false }, "true", "false" %>
										  <span class="slider round"></span>
										</label>
										<%= f.label :streamingService, 'Enable Streaming', class: 'switch-group-label' %>
									</div>

									<div class="text-left mt-3">
		  							<%= submit_tag("Submit", class: 'btn btn-default primary') %>
		  						</div>
								<% end %>
							<% elsif params[:deliveryType] == "download" %>
								<%= form_for "", url: {action: :deliveryAdd, controller: :default}, method: :post, html: {class: 'mt-3', id: 'form', multipart: true} do |f|%>
									<div class="form-group">
										<%= f.label :deliveryUrl, 'File Download Domain Name' %>
										<%= f.text_field :deliveryUrl, class: 'form-control' %>
										<small id="domainlHelp" class="form-text text-muted">File download name can only contain lowercase letters, digits, hyphens, or periods. Please enter a valid name or domain name e.g: 'lfdname' or 'lfd.domain.com'.</small>
									</div>

									<div class="form-group">
										<%= f.label :ftpPassword, 'Ftp Password' %>
										<%= f.text_field :ftpPassword, class: 'form-control' %>
										<small id="domainlHelp" class="form-text text-muted">Password must be strong e.g: include number and character, avoid using name.</small>
									</div>
									
									<div class="switch-group mb-3 clearfix">
								    <label class="switch">
										  <%= f.check_box :streamingService, { class: 'custom-control-input', checked: false }, "true", "false" %>
										  <span class="slider round"></span>
										</label>
										<%= f.label :streamingService, 'Enable Streaming', class: 'switch-group-label' %>
									</div>

									<div class="text-left mt-3">
		  							<%= submit_tag("Submit", class: 'btn btn-default primary') %>
		  						</div>
								<% end %>
							<% end %>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<% end %>